golang 基于time/rate 的限流器设计范例
===========================================

### 限流器的实现方式
- 计数器
- 滑动窗口
- 漏桶
- 令牌桶


#### 计数器
> 在一段时间间隔内，对请求进行计数，与阀值进行比较判断是否需要限流，一旦到了时间临界点，将计数器清零，该方式会有时间临界点的问题




#### 滑动窗口
> 滑动窗口把固定时间片进行划分，并且随着时间的流逝，进行移动，固定数量的可以移动的格子，进行计数并判断阀值。 事实上，滑动窗口可以理解为移动式的计算器，就是把固定时间这个区间作为一个移动盒子，算法逻辑上要把计算器要均衡一点，但是依然会有时间临界点的问题




#### 漏桶
> - 一个固定容量的漏桶，按照固定的速率流出水滴
> - 如果桶是空的，则不需要流出水滴
> - 可以以任意速率流入水滴到漏桶
> - 如果流入水滴超出了桶的容量，则溢出（被丢弃）
> 



#### 令牌桶
> - 有一个固定用量的桶， 桶一开始是空的
> - 以固定的速率 r 往桶里填充 token， 直到桶的容量满为止， 多余的令牌将被丢弃
> - 每当一个请求过来时， 就尝试从桶里移除一个令牌， 如果没有令牌的话， 请求无法通过
> 










